\documentclass[11pt]{article}

\usepackage[margin=1in]{geometry}
\usepackage{setspace}
\usepackage[activate={true,nocompatibility},
            final,
            tracking=true,
            kerning=true,
            spacing=true,
            factor=1100,
            stretch=10,
            shrink=10]{microtype}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{hyperref}

\microtypecontext{spacing=nonfrench}

\doublespacing

\setlength\parskip{1ex}
\setlength\parindent{1em}

\definecolor{grey}{HTML}{334466}

\lstset{ basicstyle=\footnotesize \ttfamily,
         breaklines=true,
         numbers=left,
         numberstyle=\ttfamily \color{grey},
         language=Python,
         commentstyle=\color{blue} }

\begin{document}

\noindent
{\Large \textbf{Project 2 Documentation}}\\*
Casey Burklow, Isaac Dudney

%data structures
\noindent
\textbf{Data Structures}

There are three data structures in the program:

\begin{enumerate}
\item \texttt{Person} - Class with four variables.
\item \texttt{Line} - A list of Persons in the line for the bathroom.
\item \texttt{Bathroom} - A list of Persons in the bathroom.
\end{enumerate}

These three make up the majority of data manipulated in the program.
There are other assorted state-based integers that help keep program logic clear and simple.

%structure
\noindent
\textbf{Structure}

The code is split into a few state-managing data structures, utility functions, and the core logic.

The state management happens through four main variables and a \texttt{Person} struct.
There's a time variable (\texttt{t}) to indicate when events should happen, a departed counter (\texttt{dep}) to ensure that the code ends when it needs to, and two lists for the \texttt{bathroom} and \texttt{line}.
The person struct manages the things a person needs to know: their gender, the amount of time they spend in the bathroom, and the global time they must leave (calculated upon entering the bathroom).

The utility functions manage moving the people back and forth, essentially. There's \texttt{Arrive}, \texttt{UseFacilities}, and \texttt{Depart}.
They do what they sound like: \texttt{Arrive} adds the people to the bathroom, \texttt{UseFacilities} removes those who are done using the bathroom, and \texttt{Depart} is a utility function to help \texttt{UseFacilities} do its job.

The core logic is very simple: add people to the line, use the facilities, add people to the bathroom, and increment the time by one.

Combined together, each piece of this structure fulfills every requirement in this project.

%documentation
\noindent
\textbf{How to Run}

The code is basic Python 3.
One can run it either using the official Python runtime, found at \url{https://www.python.org}, or using an online interpreter, like \url{https://repl.it}.
We have already uploaded it to \texttt{repl.it} at the link below (clickable).

\begin{center}
\url{https://repl.it/@eragon5779/Project2}
\end{center}

The code can be run by hitting the run button on the left side of the screen.
If you want to run it on your computer, setting up Python is detailed on their site.

\newpage

%psuedocode
\noindent
\textbf{Psuedocode}

\begin{lstlisting}
### state
current_time = 0
departed = 0
line = []
bathroom = []

# class
Person(identifier):
	leave_time = 0
	in_time = random(3,7)
	identifier = identifier
	gender = random_weighted(60,0,1)

### functions

## utility
person_pop():
	set_leave_time(line.nextPerson)
	return(line.nextPerson.pop())
person_delete(index):
	set_leave_time(line[index])
	return(line.pop(index))

## main
# add to bathroom
Arrive():
	if bathroom is empty:
		bathroom.append(person_pop())

	for person in line:
		if person.gender == bathroom[0].gender and bathroom is not full:
			bathroom.append(person_pop())
		else:
			return
# remove from bathroom
UseFacilities():
	if bathroom is empty:
		return
	for person in bathroom:
		if person.leave_time == current_time
			departed += 1
			Depart(person)
# utility to remove from bathroom
Depart(Person):
	bathroom.remove(Person)

### main logic

# a groups of 5, b groups of 10, c 20 at once
input("Case a, b, c: ")

case a:
	if current_time = 0:
		line.add(5,Person)
	else if current_time = 10:
		line.add(5,Person)
	else if current_time = 20:
		line.add(5,Person)
	else if current_time = 30:
		line.add(5,Person)

	UseFacilities()
	if bathroom is not full and line is not empty:
		Arrive()
	current_time += 1
case b:
	if current_time = 0:
		line.add(10,Person)
	else if current_time = 10:
		line.add(10,Person)

	UseFacilities()
	if bathroom is not full and line is not empty:
		Arrive()
	current_time += 1
case c:
	if current_time = 0:
		line.add(20,Person)

	UseFacilities()
	if bathroom is not full and line is not empty:
		Arrive()
	current_time += 1
\end{lstlisting}

\end{document}
